<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Algoo - Calendar</title>
</head>

<body style="height: 100vh; margin:0; padding: 5px; box-sizing: border-box;">
  <div id="open-calendar"></div>
  <script type="module">
    import { getBasicAuthHeaders } from 'tsdav';
    import { createCalendar } from './src';

    // TODO - CJ - 2025--03-07 - Add a proper login form and ask for the server path
    const username = window.prompt('username')
    const password = window.prompt('password')
    createCalendar(
      [{ serverUrl: 'http://localhost:5232', headers: getBasicAuthHeaders({ username, password }) }],
      [
        { serverUrl: 'http://localhost:5232', headers: getBasicAuthHeaders({ username, password }) },
        {
          fetchContacts: () => Promise.resolve([{
            name: 'zoro',
            email: 'z@z.z',
          }, {
            name: 'ant',
            email: 'ant@a.nt',
          }])
        }
      ],
      document.getElementById('open-calendar'),
      // { hideVCardEmails: true }
    )
  </script>
</body>

</html>